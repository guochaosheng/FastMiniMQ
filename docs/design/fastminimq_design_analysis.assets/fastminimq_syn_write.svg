<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="618px" height="251px" viewBox="-0.5 -0.5 618 251" content="&lt;mxfile modified=&quot;2020-07-25T09:23:38.915Z&quot; host=&quot;huatu.98youxi.com&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.89 Safari/537.36&quot; etag=&quot;WMeQRDsmQgQYmezMTX08&quot; version=&quot;11.1.4&quot; type=&quot;online&quot;&gt;&lt;diagram id=&quot;0UTL-w4OMPJ2JASy84PD&quot; name=&quot;第 1 页&quot;&gt;1VhZc+I4EP41ep3yga9HG/DM1kxqZysPu3lUsADVGpu1RQL767dbl23shIQhU7MpKkjtVh9fH2pD/Pnu+Lmh++1dXbCSeE5xJP6CeF4cJ/AfCSdFmEWxImwaXiiS2xHu+b9MEx1NPfCCtQNGUdel4PshcVVXFVuJAY02Tf08ZFvX5VDrnm7YiHC/ouWY+icvxFa7FTgd/Qvjm63R7Dr6yY4aZk1ot7Son3skf0n8eVPXQq12xzkrETuDizqXv/DUGtawSrzlgKcOPNHyoH3TdomTcfZ5ywW739MV7p8hnsTPtmJXws6FJW33CuI1PzKQmrWiqf9m87qsGynAd+QfPFnXlcjpjpcY9s+sbjacAnlss3bjiTWCHXsk7QMc3THRnIBFP/X8UB05WcTV/rkLj2fCs+2FxhKpTomNld2hBgsN3DSI/mUQWVWkmHiwW5W0bflqiCK43pz+go1jNg+4+RSY7eLYf7g46d17IRW02TBNChSJFYNkH2Pcw3AKQkNrWEkFfxqWyBSsWsP3moNxNoRu6AxDGJ1Fpq0PzYrpU/2UPhPkxRcEKQxGgmSUrdtvCnwwCnx2WK9ZMwp/Ux+qAqtDBvtCRQ1i+oWVT0zw1Y0KxXfOwJmNC8X1JqIc3qBOwnGdLCOS+iR2cZFkJIn/P9DZPPsZ0EW3bDFdV3kYNJXpFsOOXPSOwe7BSIR1dwg317YlVduDoup3qvCX6lRnjWrmXtmo7CWlBfnniXK7RhVPVl62IImsvAwqD2Q4v/0+yiooDjHMo+H9XtUVw4Dzsjwj0ZJvKkxGCDa0RD/DUoNqLFP9YMeLAtVMFnVX9h87Odjb4ZWGGE4NDjco6mSiqMNSaH9xMKW6KMJ/DjgRZl1LsyRYbfDb3DyObqVZTJaBDLFPljOSpSReykVMoHGpRZoiT+yRFJhDkjkkm8mFS1LgyUk2J/Fc8uSSGY6EslvD8ZwkC0nJJeUVOQmJIyknxDSD4R+Z5QeOZ8DmS5vBwlnvONjpo/3AnM5IkpOlh5YnUg64kzi9hfJrIVWEJF0YZkmJldIINaZRT06EBqN2oC/RABQYSHcSyZP35AAdmCOzsEozibOL7mvE4olrTT9KhqgqgZbHKo0wWLHUhWi4PTTGNsN2iZ/OMABhqb1IEomPj5Jjm1+PjUmbMSWnrbjjFb/7QyaTjdlk6pw5EGE8slxbidCMAyNdiqGlO72UDVEFCrdpFCAPpoj0M0um1L0rQUO5yOViTlJ3SmCI1YLWzmTlKMkJUgbWjnNd8scmWTHJbMlF6LUGUFI8J/76ahqMUeylAbql/Jvjp9MDtke63FTQpR5PEsDbTAYMefMpnS8nSJfUASKSTmQ33Bv4MNdKsNpDU0uZDkESmMxZWOdnX41iFyGZtDNEbzA/HAlrrysAJKmBHgvCuGBLbSrZ6Q5vl+qx3feSHxq16riG7Z2X4OAl9+WbsGRr8WP3YEHbrZ2FcfOdCrhcK0nxHO9Dr8rACYZX5dRLdhhM3JW3eMk2yn5oBDajbG+Q7cba24+yv9bc6iZn8+bVg2t4QdDtBlfXvRz1dkv3uCzq1WEnw3HpNfFRFdW3xzeU84eV09Wv4leMnrDtflNUYeh+mPWX/wE=&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="83" y="0" width="250" height="250" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 7 60 L 140.63 60" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 145.88 60 L 138.88 63.5 L 140.63 60 L 138.88 56.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="147" y="30" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(190.5,53.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="32" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 33px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">Buffer</div></div></foreignObject><text x="16" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Buffer</text></switch></g><rect x="147" y="170" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(194.5,193.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="24" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 25px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">磁盘</div></div></foreignObject><text x="12" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">磁盘</text></switch></g><path d="M 207 90 L 207 163.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 207 168.88 L 203.5 161.88 L 207 163.63 L 210.5 161.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(26.5,33.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="41" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Georgia; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 42px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">网络 IO</div></div></foreignObject><text x="21" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Georgia">网络 IO</text></switch></g><rect x="352" y="0" width="265" height="250" fill="none" stroke="#000000" stroke-dasharray="1 2" pointer-events="none"/><g transform="translate(354.5,46.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="261" height="156" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Georgia; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 261px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font face="Helvetica">Buffer 相当于一个储水池，只要保证储水池里有充足的水能够“源源不断”按照“稳定流速”刷到下层（磁盘），刷盘速率就能稳定达到极限。<br /><br />FastMiniMQ 有一个刷盘线程不断将 Buffer 所储内容刷盘，只要保证每次刷盘操作前 Buffer 储水位大于等于 8K，刷盘线程就近似于无限 8K 顺序刷盘。<br />（在磁盘IO基准测试中，4K、8K顺序写性能尤佳。）<br /> </font></div></div></foreignObject><text x="131" y="84" fill="#000000" text-anchor="middle" font-size="12px" font-family="Georgia">[Not supported by viewer]</text></switch></g><path d="M 147 200 L 13.37 200" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 8.12 200 L 15.12 196.5 L 13.37 200 L 15.12 203.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 147 30 L 267 30 L 267 47 Q 237 41.6 207 47 Q 177 52.4 147 47 L 147 33 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/></g></svg>